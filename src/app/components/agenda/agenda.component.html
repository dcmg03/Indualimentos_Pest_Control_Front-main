<app-menubar></app-menubar>
<div class="global">
  <div class="surface-ground flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden">
    <div class="col-12">
      <div class="titulo">
        <span class="text-600 font-medium">Agenda del Día</span>
      </div><br><br>
      <div style="text-align: center;">
        <div *ngIf="role !== 'A' && role !== 'E'" class="horizontal-container">
          <span class="p-float-label">
            <p-calendar [(ngModel)]="selectedDate" [placeholder]="'Selecciona fecha del servicio'" [showIcon]="true">
              <label for="float-label">Selecciona fecha para servicio</label>
            </p-calendar>
          </span>

          <span class="p-float-label">
            <p-dropdown
              [options]="servicios"
              (ngModelChange)="changeOptions($event)"
              [(ngModel)]="servicioSeleccionado"
              placeholder="Selecciona servicio"
              optionLabel="name"
              optionValue="id"
              inputId="float-label-servicio"
            ></p-dropdown>
            <label for="float-label-servicio">Selecciona servicio</label>
          </span>

          <span class="p-float-label">
            <p-dropdown
              [options]="tipoServicios"
              [(ngModel)]="tipoServicioSeleccionado"
              placeholder="Selecciona tipo de servicio"
              optionLabel="name"
              optionValue="id"
              inputId="float-label-tipo-servicio"
            ></p-dropdown>
            <label for="float-label-tipo-servicio">Selecciona tipo de servicio</label>
          </span>

          <span class="p-float-label">
            <p-dropdown
              [options]="availableHours"
              [(ngModel)]="selectedHours"
              placeholder="Selecciona horas"
              optionLabel="name"
              optionValue="id"
              inputId="float-label-horas"
            ></p-dropdown>
            <label for="float-label-horas">Seleccionar horas</label>
          </span>
        </div>

      <br><br>

      <br>
      <p-table [value]="agenda" [paginator]="true" [rows]="10">
        <ng-template pTemplate="header">
          <tr>
            <th>ID</th>
            <th>Dirección</th>
            <th>Fecha de la cita</th>
            <th>Fecha de la solicitud</th>
            <th>ID de Usuario</th>
          </tr>
        </ng-template>

        <ng-template pTemplate="body" let-agenda>
          <tr>
            <td>{{ agenda.id }}</td>
            <td>{{ agenda.address }}</td>
            <td>{{ agenda.asigned_date }}</td>
            <td>{{ agenda.buy_date }}</td>
            <td>{{ agenda.user_id }}</td>
          </tr>
        </ng-template>
      </p-table>


      <br>
      <br>
      <div class="boton">
        <p-button [label]="labelBoton" (click)="agregar()" styleClass="p-button-rounded p-button-secondary"></p-button>
      </div>
    </div>
  </div>
</div>
